<!DOCTYPE html>
<html>

<head>
    <title>우리 마을 변호사</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">


    <style>
        #logo {
            display: block;

        }

        #login {
            float: right;
            color: darkgray;
            font-family: 'Jua', sans-serif;
            font-size: small;
        }

        #login td {
            padding-right: 10px;
        }

        a:link {
            color: darkgray;
            text-decoration: none;
        }

        a:visited {
            color: darkgray;
            text-decoration: none;
        }

        #menubar {
            background: rgb(163, 213, 201);
        }

        #menubar ul {
            margin: 0;
            padding: 3;
            width: 95%;
        }

        #menubar ul li {
            display: inline-block;
            list-style-type: none;
            padding: 6px 20px;
        }

        #menubar ul li a {
            color: rgb(68, 68, 68);
            text-decoration: none;
            font-family: 'Black Han Sans', sans-serif;
            font-size: 125%;
        }

        #menubar ul li a:hover {
            color: rgb(242, 146, 72)
        }

        #list_name {
            border: 5px;
            width: 100%;
            height: 100%;
            font-size: 30px;
            text-align: center;
            font-family: 'Do Hyeon', sans-serif;
        }

        #name {
            width: 70%;
            height: 100%;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
            font-family: 'Do Hyeon', sans-serif;
            font-size: 30px;
            background-color: azure;
        }

        #data {
            width: 70%;
            height: 100%;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
            font-size: 30px;
            font-family: 'Do Hyeon', sans-serif;
        }

        #page {
            width: 60%;
            height: 100%;
            margin-left: auto;
            margin-right: auto;
            padding: 20px;
            text-align: center;
        }

        #prev,
        #two,
        #three,
        #four,
        #next {
            text-align: center;
            font-size: 30px;
            font-family: 'Do Hyeon', sans-serif;
        }

        #one {
            text-align: center;
            font-size: 30px;
            font-family: 'Do Hyeon', sans-serif;
            background-color: azure;
        }

        #menubar li.menu_lawyer {
            float: right;
            margin-left: -1px;
            z-index: 1;
        }
    </style>
</head>

<body>
    <header>
        <div>
            <a id="logo" onclick="move1()">
                <center><img src="img/main_logo.png" width="600" height="200"></center>
            </a>
        </div>
        <br><br><br>

        <nav id="menubar">
            <ul>
                <!-- 변호사 검색 버튼 -->
                <li><a href="#none" onclick="move2()">변호사 검색 & 상담 예약 신청</a></li>
                <!-- 사이버법률상담 버튼 -->
                <li><a href="cyber_qa.html">사이버법률상담</a></li>
                <!-- 이용 안내 버튼 -->
                <li><a href="howtouse.html">이용 안내</a></li>
                <li><a href="blog.html">마을변호사 소식</a></li>

                <li class="menu_lawyer"><a href="./home.html">로그아웃</a></li>
                <li class="menu_lawyer"><a onclick="location.reload()">상담신청 게시판</a></li>

            </ul>
        </nav>
        <br>
    </header>


    <section>
        <h3 id="list_name">
            상담 예약 신청 목록
        </h3>
    </section>


    <!-- 예약 신청 목록 -->
    <section>
        <table id="name" border="1">
            <tr>
                <td id="day" width="50px">신청일</td>
                <td id="writer" width="20px">작성자</td>
                <td id="title" width="210px">제목</td>
            </tr>
        </table>
        <table id="data" class="report data" border="1">
        </table>
    </section>

    <section id="page">
        <input id="prev" type="button" value="<" onclick="location.href='./user_sign_up.html'" ;>
        <input id="one" type="button" value="1" onclick="location.href='./user_sign_up.html'" ;>
        <input id="two" type="button" value="2" onclick="location.href='./user_sign_up.html'" ;>
        <input id="three" type="button" value="3" onclick="location.href='./user_sign_up.html'" ;>
        <input id="four" type="button" value="4" onclick="location.href='./user_sign_up.html'" ;>
        <input id="next" type="button" value=">" onclick="location.href='./user_sign_up.html'" ;>
    </section>


    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script type="text/javascript">

        // /* 로그인 정보 가져오기 */
        var getParameter = function (param) {
            var returnValue;
            var url = location.href;
            var parameters = (url.slice(url.indexOf('?') + 1, url.length)).split('&');
            for (var i = 0; i < parameters.length; i++) {
                var varName = parameters[i].split('=')[0];
                if (varName.toUpperCase() == param.toUpperCase()) {
                    returnValue = parameters[i].split('=')[1];
                    return decodeURIComponent(returnValue);
                }
            }
        };
        $(document).ready(function () {
            var name = getParameter('index');
            //이전 페이지로부터 "사용자이름&변호사이름" 받음
            console.log('val : ' + name);

            window.onload = function () {
                if (name === "박주민")
                    init_park();

                $("#data tr").click(function () {
                    var str = ""
                    var tdArr = new Array();	// 배열 선언

                    // 현재 클릭된 Row(<tr>)
                    var tr = $(this);
                    var td = tr.children();

                    // tr.text()는 클릭된 Row 즉 tr에 있는 모든 값을 가져온다.
                    // console.log("클릭한 Row의 모든 데이터 : " + tr.text());

                    // 반복문을 이용해서 배열에 값을 담아 사용할 수 도 있다.
                    td.each(function (i) {
                        tdArr.push(td.eq(i).text());
                    });

                    // console.log("배열에 담긴 값 : " + tdArr);

                    // td.eq(index)를 통해 값을 가져올 수도 있다.
                    var day = td.eq(0).text();
                    var writer = td.eq(1).text();
                    var title = td.eq(2).text();


                    str += " * 클릭된 Row의 td값 = day : <font color='red'>" + day + "</font>" +
                        ", writer : <font color='red'>" + writer + "</font>" +
                        ", title : <font color='red'>" + title + "</font>";


                    movePage(day, writer, title);
                });

                if (name === "김한비")
                    init_kim();

                $("#data tr").click(function () {
                    var str = ""
                    var tdArr = new Array();	// 배열 선언

                    // 현재 클릭된 Row(<tr>)
                    var tr = $(this);
                    var td = tr.children();

                    // tr.text()는 클릭된 Row 즉 tr에 있는 모든 값을 가져온다.
                    // console.log("클릭한 Row의 모든 데이터 : " + tr.text());

                    // 반복문을 이용해서 배열에 값을 담아 사용할 수 도 있다.
                    td.each(function (i) {
                        tdArr.push(td.eq(i).text());
                    });

                    // console.log("배열에 담긴 값 : " + tdArr);

                    // td.eq(index)를 통해 값을 가져올 수도 있다.
                    var day = td.eq(0).text();
                    var writer = td.eq(1).text();
                    var title = td.eq(2).text();


                    str += " * 클릭된 Row의 td값 = day : <font color='red'>" + day + "</font>" +
                        ", writer : <font color='red'>" + writer + "</font>" +
                        ", title : <font color='red'>" + title + "</font>";


                    movePage(day, writer, title);
                });
            }
        });

        // window.onload = function () {
        //     init_park();


        //     $("#data tr").click(function () {
        //         var str = ""
        //         var tdArr = new Array();	// 배열 선언

        //         // 현재 클릭된 Row(<tr>)
        //         var tr = $(this);
        //         var td = tr.children();

        //         // tr.text()는 클릭된 Row 즉 tr에 있는 모든 값을 가져온다.
        //         // console.log("클릭한 Row의 모든 데이터 : " + tr.text());

        //         // 반복문을 이용해서 배열에 값을 담아 사용할 수 도 있다.
        //         td.each(function (i) {
        //             tdArr.push(td.eq(i).text());
        //         });

        //         // console.log("배열에 담긴 값 : " + tdArr);

        //         // td.eq(index)를 통해 값을 가져올 수도 있다.
        //         var day = td.eq(0).text();
        //         var writer = td.eq(1).text();
        //         var title = td.eq(2).text();


        //         str += " * 클릭된 Row의 td값 = day : <font color='red'>" + day + "</font>" +
        //             ", writer : <font color='red'>" + writer + "</font>" +
        //             ", title : <font color='red'>" + title + "</font>";


        //         movePage(day, writer, title);
        //     });
        // }


        /* 테이블 구성 */
        function init_park() {
            var list = [
                { day: "2020-12-08", writer: "김한별", title: "부동산 배액배상건으로 여쭈어봅니다." },
                { day: "2020-12-08", writer: "이예은", title: "상해죄 기소 너무너무 억울합니다" },
                { day: "2020-12-08", writer: "이윤아", title: "배상명령신청 집행 관련 문의 드립니다." },
                { day: "2020-12-06", writer: "홍길동", title: "비법인 사단의 총회 소집시 하자 없는 소집통지 방법" },
                { day: "2020-12-05", writer: "김변호", title: "초상권 침해 범죄 유무 관련" },
                { day: "2020-12-03", writer: "이마을", title: "임대사업등록사로서 자진말소한 부동산의 효과적인 처리" },
                { day: "2020-12-03", writer: "김선호", title: "주식 리딩사기" },
                { day: "2020-12-01", writer: "김지영", title: "12대 중과실 교통사고 형사 합의금" },
                { day: "2020-11-29", writer: "이두환", title: "주택임차등기의 효력 유무" },
                { day: "2020-11-29", writer: "박재영", title: "전세집 변기누수" }
            ];

            tagParsing(list, true);
        }

        function init_kim() {
            var list = [
                { day: "2020-12-07", writer: "이서웅", title: "개인정보보호법 위반" },
                { day: "2020-12-07", writer: "이예건", title: "피트니스 시설 중도해지 부분." },
                { day: "2020-12-07", writer: "김아준", title: "해방공탁금취하방법" },
                { day: "2020-12-06", writer: "이승헌", title: "종중 전/답/임야/주택 명의이전관련 문의드립니다." },
                { day: "2020-12-05", writer: "김예오", title: "대리기사 차량손괴 보험처리건" },
                { day: "2020-12-02", writer: "최신동", title: "형사 재판 기록을 민사재판부에 제공하는 행위" },
                { day: "2020-12-02", writer: "이찬원", title: "월세 임대에 보증금 관련해서 문의 드립니다." },
                { day: "2020-12-01", writer: "장민호", title: "소비자 분쟁조정위원회에 따른 결정에 대한 문의" },
                { day: "2020-11-26", writer: "김성주", title: "판매자 분쟁" },
                { day: "2020-11-25", writer: "박세라", title: "빌라 수리비용 허위청구시 대응방안" }
            ];

            tagParsing(list, true);
        }

        function tagParsing(obj, init) {
            var len = obj.length;
            var tag = '';


            for (i = 0; i < obj.length; i++) {
                tag += "<tr > <td class='day'>" + obj[i].day + "</td>"
                    + "<td class='writer'>" + obj[i].writer + "</td>"
                    + "<td class='title'>" + obj[i].title + "</td></tr>"
            }
            document.getElementById("data").innerHTML = tag;
            // console.log(document.getElementById("data").innerHTML);
        }


        function movePage(day, writer, title) {
            window.location.href = "check_user_reservation.html?day=" + day + "&writer=" + writer + "&title=" + title;
        }
        function move2() {
            var name = getParameter('index');
            window.location.href = "lawyer_search.html?index=" + name;
        }
        function move1() {
            var name = getParameter('index');
            window.location.href = "lawyer_home.html?index=" + name;
        }
    </script>
</body>

</html>